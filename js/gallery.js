$(document).ready(function(){

	var gallery = [
		{
			"name":"mlbassembly",
			"content":[
				{
					"date": "friday",
					"gallery": [
						{
							"id": 0,
							"img_path": "assets/stock_image.jpg",
							"img_caption": "BradMLB Assembly celebrates baseball at the intersection of art, fashion, and music during"
						},
						{
							"id": 1,
							"img_path": "assets/stock_image.jpg",
							"img_caption": "DatMLB Assembly celebrates baseball at the intersection of art, fashion, and music during"
						},
						{
							"id": 2,
							"img_path": "assets/stock_image.jpg",
							"img_caption": "FEWMLB Assembly celebrates baseball at the intersection of art, fashion, and music during"
						},
						{
							"id": 3,
							"img_path": "assets/stock_image.jpg",
							"img_caption": "WEGTMLB Assembly celebrates baseball at the intersection of art, fashion, and music during"
						},
						{
							"id": 4,
							"img_path": "assets/stock_image.jpg",
							"img_caption": "GWERMLB Assembly fawefwefcelebrates baseball at the intersection of art, fashion, and music during"
						},
						{
							"id": 5,
							"img_path": "assets/stock_image.jpg",
							"img_caption": "BBSMLB Assembly celebrates baseball at the intersection of art, fashion, and music during"
						},
						{
							"id": 6,
							"img_path": "assets/stock_image.jpg",
							"img_caption": "MLB Assembly celebrates baseball at the intersection of art, fashion, and music during"
						},
						{
							"id": 7,
							"img_path": "assets/stock_image.jpg",
							"img_caption": "MLB Assembly celebrates baseball at the intersection of art, fashion, and music during"
						}
					]
				},
				{
					"date": "saturday",
					"gallery": [
						{
							"id": 0,
							"img_path": "assets/stock_image.jpg",
							"img_caption": "MLB Assembly celebrates baseball at the intersection of art, fashion, and music during"
						},
						{
							"id": 1,
							"img_path": "assets/stock_image.jpg",
							"img_caption": "MLB Assembly celebrates baseball at the intersection of art, fashion, and music during"
						},
						{
							"id": 2,
							"img_path": "assets/stock_image.jpg",
							"img_caption": "MLB Assembly celebrates baseball at the intersection of art, fashion, and music during"
						},
						{
							"id": 3,
							"img_path": "assets/stock_image.jpg",
							"img_caption": "MLB Assembly celebrates baseball at the intersection of art, fashion, and music during"
						},
						{
							"id": 4,
							"img_path": "assets/stock_image.jpg",
							"img_caption": "MLB Assembly celebrates baseball at the intersection of art, fashion, and music during"
						},
						{
							"id": 5,
							"img_path": "assets/stock_image.jpg",
							"img_caption": "MLB Assembly celebrates baseball at the intersection of art, fashion, and music during"
						},
						{
							"id": 6,
							"img_path": "assets/stock_image.jpg",
							"img_caption": "MLB Assembly celebrates baseball at the intersection of art, fashion, and music during"
						},
						{
							"id": 7,
							"img_path": "assets/stock_image.jpg",
							"img_caption": "MLB Assembly celebrates baseball at the intersection of art, fashion, and music during"
						}
					]
				},
				{
					"date": "sunday",
					"gallery": [
						{
							"id": 0,
							"img_path": "assets/stock_image.jpg",
							"img_caption": "MLB Assembly celebrates baseball at the intersection of art, fashion, and music during"
						},
						{
							"id": 1,
							"img_path": "assets/stock_image.jpg",
							"img_caption": "MLB Assembly celebrates baseball at the intersection of art, fashion, and music during"
						},
						{
							"id": 2,
							"img_path": "assets/stock_image.jpg",
							"img_caption": "MLB Assembly celebrates baseball at the intersection of art, fashion, and music during"
						},
						{
							"id": 3,
							"img_path": "assets/stock_image.jpg",
							"img_caption": "MLB Assembly celebrates baseball at the intersection of art, fashion, and music during"
						},
						{
							"id": 4,
							"img_path": "assets/stock_image.jpg",
							"img_caption": "MLB Assembly celebrates baseball at the intersection of art, fashion, and music during"
						},
						{
							"id": 5,
							"img_path": "assets/stock_image.jpg",
							"img_caption": "MLB Assembly celebrates baseball at the intersection of art, fashion, and music during"
						},
						{
							"id": 6,
							"img_path": "assets/stock_image.jpg",
							"img_caption": "MLB Assembly celebrates baseball at the intersection of art, fashion, and music during"
						},
						{
							"id": 7,
							"img_path": "assets/stock_image.jpg",
							"img_caption": "MLB Assembly celebrates baseball at the intersection of art, fashion, and music during"
						}
					]
				},
				{
					"date": "monday",
					"gallery": [
						{
							"id": 0,
							"img_path": "assets/stock_image.jpg",
							"img_caption": "MLB Assembly celebrates baseball at the intersection of art, fashion, and music during"
						},
						{
							"id": 1,
							"img_path": "assets/stock_image.jpg",
							"img_caption": "MLB Assembly celebrates baseball at the intersection of art, fashion, and music during"
						},
						{
							"id": 2,
							"img_path": "assets/stock_image.jpg",
							"img_caption": "MLB Assembly celebrates baseball at the intersection of art, fashion, and music during"
						},
						{
							"id": 3,
							"img_path": "assets/stock_image.jpg",
							"img_caption": "MLB Assembly celebrates baseball at the intersection of art, fashion, and music during"
						},
						{
							"id": 4,
							"img_path": "assets/stock_image.jpg",
							"img_caption": "MLB Assembly celebrates baseball at the intersection of art, fashion, and music during"
						},
						{
							"id": 5,
							"img_path": "assets/stock_image.jpg",
							"img_caption": "MLB Assembly celebrates baseball at the intersection of art, fashion, and music during"
						},
						{
							"id": 6,
							"img_path": "assets/stock_image.jpg",
							"img_caption": "MLB Assembly celebrates baseball at the intersection of art, fashion, and music during"
						},
						{
							"id": 7,
							"img_path": "assets/stock_image.jpg",
							"img_caption": "MLB Assembly celebrates baseball at the intersection of art, fashion, and music during"
						}
					]
				}
			]
		},
		{
			"name": "highsnobiety",
			"content": [
			{
				"date": "friday",
				"gallery": [
					{
						"id": 0,
						"img_path": "assets/stock_image.jpg",
						"img_caption": "BradMLB Assembly celebrates baseball at the intersection of art, fashion, and music during"
					},
					{
						"id": 1,
						"img_path": "assets/stock_image.jpg",
						"img_caption": "DatMLB Assembly celebrates baseball at the intersection of art, fashion, and music during"
					},
					{
						"id": 2,
						"img_path": "assets/stock_image.jpg",
						"img_caption": "FEWMLB Assembly celebrates baseball at the intersection of art, fashion, and music during"
					},
					{
						"id": 3,
						"img_path": "assets/stock_image.jpg",
						"img_caption": "WEGTMLB Assembly celebrates baseball at the intersection of art, fashion, and music during"
					},
					{
						"id": 4,
						"img_path": "assets/stock_image.jpg",
						"img_caption": "GWERMLB Assembly fawefwefcelebrates baseball at the intersection of art, fashion, and music during"
					},
					{
						"id": 5,
						"img_path": "assets/stock_image.jpg",
						"img_caption": "BBSMLB Assembly celebrates baseball at the intersection of art, fashion, and music during"
					},
					{
						"id": 6,
						"img_path": "assets/stock_image.jpg",
						"img_caption": "MLB Assembly celebrates baseball at the intersection of art, fashion, and music during"
					},
					{
						"id": 7,
						"img_path": "assets/stock_image.jpg",
						"img_caption": "MLB Assembly celebrates baseball at the intersection of art, fashion, and music during"
					}
				]
			}
		]
	}


			

	]

	var filterDay = gallery[0].content.filter(function(data) {
		if(data.date === 'friday') {
			return data
		}
	});


	function createInitGallery() {
		switchGallery([gallery[0].content[0]])
	}

	function switchGallery(arr) {
		arr[0].gallery.map(function(data) {
			var caption = data.img_caption;
			var maxLength = 54;
			var trimmedString = caption.substr(0, caption.lastIndexOf(' ', maxLength));


			$('.imageGalleryFeed').append(
				`
				<div class="imageGalleryFeed__img" data-img-id=${data.id}>
					<img src=${data.img_path} alt="">
					<div class="imageGalleryFeed__caption">
						<h6 class="section-one-description">
							<div class="light">${trimmedString}...</div>
						</h6>	
					</div>
				</div>
				`
			);
		})
	}




	function switchGalleryDays() {
		$('.imageDateToggle__date').on('click', function() {
			$('.imageGalleryFeed').html(' ');
			var dayClick = $(this).data("day");
			$('.imageDateToggle__date').removeClass('active-date');
			$(this).addClass('active-date');
			
			filterDay = gallery[0].content.filter(function(data) {
				if(data.date === dayClick) {
					return data
				}
			});

			switchGallery(filterDay)

			return filterDay;

		})
	}

	function switchSlideShow(arr, id) {
		
		var startPos = arr[0].gallery.slice(id).concat(arr[0].gallery.slice(0, id));

		startPos.map(function(data) {
			if(data.id === startPos[0].id){
				$('.gallery-slideshow-inner').append(
					`
					<div class="item active">
						<img src=${data.img_path} alt="">
						<div class="imageGalleryFeed__caption">
							<h6 class="section-one-description">
								<div class="light">${data.img_caption}</div>
							</h6>
							<a href="#" class="bold">LEARN MORE</a> 	
						</div>
					</div>
					`
				);
			} else {
				$('.gallery-slideshow-inner').append(
					`
					<div class="item">
						<img src=${data.img_path} alt="">
						<div class="imageGalleryFeed__caption">
							<h6 class="section-one-description">
								<div class="light">${data.img_caption}</div>
							</h6>
							<a href="#" class="bold">LEARN MORE</a> 
						</div>
						
					</div>
					`
				);
			}

		})
	}

	function triggerSlideShow() {
		$('.imageGalleryFeed').on('click', '.imageGalleryFeed__img', function() {
			$('body').css({
				"overflow": "hidden"
			})
			$('.gallery-slideshow-inner').html(' ');
			$('.gallery-slideshow').addClass('gallery-active');
			var imageId = $(this).data('img-id');

			switchSlideShow(filterDay, imageId);
			$('.item').first().addClass('active');
			$("#galleryCarousel").carousel()
		})

	}

	function createHSSlideShow() {
		gallery[1].content.map(function(data) {

			

			
			// data.gallery.map(function(gallery) {
			// 	$('.secondary-slider .carousel-inner').append(
			// 		`
			// 		<div class="item">
			// 			<img src=${gallery.img_path} alt="">
			// 			<div class="imageGalleryFeed__caption">
			// 				<h6 class="section-one-description">
			// 					<div class="light">${gallery.img_caption}</div>
			// 				</h6>
			// 			</div>
			// 		</div>
			// 		`
			// 	);
			// })
		})
	}


	// close slide show

	function closeGallery() {
		$('.gallery-slideshow').on('click', function(e) {
			var clicked = $(e.target);
			console.log(clicked.is('.gallery-active'), clicked)
			if (clicked.is('.gallery-active') ) {
				$('.gallery-slideshow').removeClass('gallery-active');
				$('body').css({
					"overflow": "auto"
				})
			} 
		})

		// $('.gallery-slideshow').removeClass('gallery-active');
	}


	   
	function init() {
		createInitGallery();
		createHSSlideShow();	
		switchGalleryDays();
		triggerSlideShow();
		closeGallery();
	}
	
	init();
	

});